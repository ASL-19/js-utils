<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@asl-19/js-utils](./js-utils.md) &gt; [getNormalizedQuery](./js-utils.getnormalizedquery.md)

## getNormalizedQuery() function

Returns a normalized representation of the passed query with default values.

**Signature:**

```typescript
getNormalizedQuery: <NormalizedQueryType>({ defaults, query, types, }: {
    defaults: NormalizedQueryType;
    query: ParsedUrlQuery;
    types: { [queryParameterName in keyof NormalizedQueryType]: NonNullable<NormalizedQueryType[queryParameterName]> extends Array<number> ? "arrayNumber" : NonNullable<NormalizedQueryType[queryParameterName]> extends Array<string> ? "arrayString" : NonNullable<NormalizedQueryType[queryParameterName]> extends number ? "number" : "string"; };
}) => NormalizedQueryType
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

{ defaults, query, types, }


</td><td>

{ defaults: NormalizedQueryType; query: ParsedUrlQuery; types: { \[queryParameterName in keyof NormalizedQueryType\]: NonNullable&lt;NormalizedQueryType\[queryParameterName\]&gt; extends Array&lt;number&gt; ? "arrayNumber" : NonNullable&lt;NormalizedQueryType\[queryParameterName\]&gt; extends Array&lt;string&gt; ? "arrayString" : NonNullable&lt;NormalizedQueryType\[queryParameterName\]&gt; extends number ? "number" : "string"; }; }


</td><td>


</td></tr>
</tbody></table>

**Returns:**

NormalizedQueryType

## Remarks

It’s important to normalize the query before use because `ParsedUrlQuery` (returned by Node’s `querystring.parse()`<!-- -->, and e.g. exposed by Next.js in `getServerSideProps` and `useRouter().query`<!-- -->) can be an array if multiple query string parameters with the same key are in the URL. e.g.:

- `?rating=true` → `{rating: "true"}`<!-- -->; - `?rating=true&rating=false` → `{rating: ["true", false"]}`

This is easy to forget, but could cause runtime errors.

